
<div class="images-wrapper container">

  <div class="images-card">

    <div class="images-title">
      <i class="fa fa-image"></i>
      Gestión de imágenes
    </div>

    <!-- URL input -->
    <div class="input-card">
      <input
        type="text"
        [(ngModel)]="currentImageURL"
        class="form-control"
        placeholder="URL de la imagen (https://...)"
        autocomplete="off">
    </div>

    <!-- Actions -->
    <div class="actions-row">
      <button
        (click)="addImageToList()"
        class="btn btn-success flex-fill">
        <i class="fa fa-plus"></i>
        Agregar imagen
      </button>

      <button
        (click)="saveAllImages()"
        class="btn btn-primary flex-fill">
        <i class="fa fa-save"></i>
        Guardar cambios
      </button>
    </div>

    <div class="hint-text">
      Estas imágenes se guardarán <strong>solo al dar clic en “Guardar cambios”</strong>.
    </div>

    <!-- Images table -->
    <div *ngIf="imageCollection.images.length > 0"
         class="table-responsive images-table">

      <table class="table align-middle caption-top">
        <caption>Imágenes pendientes</caption>

        <thead class="table-light">
          <tr>
            <th>#</th>
            <th class="text-center">Vista previa</th>
            <th class="text-center">Acción</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let e of imageCollection.images; index as i">
            <td>{{ i + 1 }}</td>

            <td class="text-center">
              <img [src]="e" alt="Imagen {{i + 1}}">
            </td>

            <td class="text-center">
              <i
                (click)="deleteImage(i)"
                class="fa fa-trash delete-icon"
                title="Eliminar imagen">
              </i>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
